<!-- <p>project-detail works!</p> -->




<!-- to use seperate child component for modal and call it from parent -->
<!-- <button (click)="showEmpMainChildModal()" >Show child modal Test</button> -->
<!-- <app-emp-edit-modal (refreshEmployeeDatatable)="loadAngularDatatable()" [empid]="empid"></app-emp-edit-modal> -->


<!-- TODO Turn on for projectdetail -->
<app-project-edit-modal (refreshProjectDetail)="loadProjectDetail()" [projectid]="id"></app-project-edit-modal>


<!-- <h2  style="margin-bottom: 5px;float: left;font-weight: bold;color: rgb(91, 91, 91);margin-top: 10px;">Employee Detail - {{employeeid}}</h2> -->
<h2 id="proid" style="margin-bottom: 5px;float: left;font-weight: bold;color: rgb(69, 69, 69);margin-top: 10px;">{{projectno}}</h2>




<!-- <div id="empconfirmdelete" class="modal hide fade">
      <div class="modal-body">
        Are you sure?
      </div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn btn-primary" id="delete">Delete</button>
        <button type="button" data-dismiss="modal" class="btn">Cancel</button>
      </div>
    </div> -->


<div id="empconfirmdelete" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header" style="padding-bottom:5px;background-color:#f1f1f1;">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h3 class="modal-title">Delete Confirmation</h3>
      </div>
      <!-- 2022 <div class="modal-body" style="padding:30px;">
            Are you sure you want to delete the selected employee <span
              style="font-size:16px;"><b>'{{this.emp.EmployeeID}}' </b></span>?<br>
            All related data of the selected employee will also be deleted.
          </div> -->
      <div class="modal-footer">
        <!-- 2022 <button @click="deleteemployee()" type="button" data-dismiss="modal" class="btn btn-danger" -->
        <button type="button" data-dismiss="modal" class="btn btn-danger" id="delete">Delete</button>
        <button type="button" data-dismiss="modal" class="btn">Cancel</button>
      </div>
    </div>
  </div>
</div>


<!-- <HEADER ROW WITH HEADING AND COMBO-->
<!-- ***************************************************** -->
<div class="row" style="margin:0px;padding:0px;">
  <div class="col-sm-7" style="padding-left:0px;">
    <!--2022 <h2 style=" margin-top: 10px; margin-bottom: 5px; font-size:25px;font-family: 'Helvetica', Arial, sans-serif;">
          Employee Detail <span class="small" style="margin-left: 16px;"> {{emp.EmployeeID}}</span></h2> -->
    <!--2022 <h2 style=" margin-top: 10px; margin-bottom: 5px; font-size:25px;font-family: 'Helvetica', Arial, sans-serif;">
            Employee Detail <span class="small" style="margin-left: 16px;"> {{emp.EmployeeID}}</span></h2> -->

  </div>
  <!-- <empsearchbar/> -->
  <!-- TEST BOOT SELECT -->
  <!-- Bootstrap select https://www.youtube.com/watch?v=lg1d0QaQLe0 -->
  <!-- https://www.webslesson.info/2017/05/bootstrap-multi-select-dropdown-with-checkboxes-using-jquery-in-php.html -->
  <!-- <div class="col-sm-4" style="padding-right:0px;margin-top:0px;margin-left:70px;margin-bottom:9px;">
            <div class="form-group" >
              <div class="col-sm-5" style="height: 30px;padding-top: 3px;padding-left: 7px;margin-left: 178px;margin-bottom: 2px;">
                  <select class="form-control" style="height:33px;width:233px;margin-right:5px;"
                      id="selectemployeeid" 
                      data-live-search="true" 
                      data-style="btn btn-default btn-sm" 
                      data-size="20"
                      data-width="233px"
                      data-none-selected-text="Find an Employee"
                      data-container="body"
                  >
                      <option v-for="item in lstEmpID" :value="item.EmpID">{{ item.EmployeeID }}</option>
                  </select>
              </div>
            </div>
          </div> -->


  <!-- LOADING IMAGE DIV  -->
  <!-- <div *ngIf="loading2" class="loading-container" style="width: 100%;
            background-color: transparent;
            opacity:1;
            position: absolute;
            z-index: 3;
            margin-left: 0%;
            margin-right: 0%;
            margin-top: 0%;
            margin-bottom: 0%;
            height: 84.5%;
            left: 90px;
            padding-top: 70px;">
    <img class="imgloading" style="padding-left:72px;display: block; margin-left: auto;margin-right: auto;"
      src="/assets/images/loading.gif" />
  </div> -->

      <!-- <div *ngIf="loading2" class="loading-container" style="width: 100%;
        background-color: transparent;
        opacity:.75;
        position: absolute;
        z-index: 3;
        margin-left: 0%;
        margin-right: 0%;
        margin-top: 0%;
        margin-bottom: 0%;
        height: 84.5%;
        left: 90px;
        padding-top: 140px;">
        <img class="imgloading" style="padding-left:72px;display: block; margin-left: auto;margin-right: auto;width:185px"
          src="/assets/images/loading.gif" />
      </div> -->


        <div *ngIf="loading2" class="loading-container" style="
            position:absolute;
            top:0;
            left:0;
            bottom:0;
            right:0;
            height:90%;
            margin-top: 80px;
            width:100%;
            z-index: 2;">
        <img class="imgloading"
          style=" margin-left: 48%; margin-right: auto;display: block;margin-top: 120px;width:8%;padding-left: 20px;"
          src="/assets/images/loading.gif" />
      </div>
  
  <!-- END LOADING IMAGE DIV  -->



  <!-- TEST BOOT SELECT DROPDOWN-->
  <!-- ***************************************************** -->

  <!-- Bootstrap select https://www.youtube.com/watch?v=lg1d0QaQLe0 -->
  <!-- https://www.webslesson.info/2017/05/bootstrap-multi-select-dropdown-with-checkboxes-using-jquery-in-php.html -->
  <!-- For styling and avoiding button going out of container http://jsfiddle.net/MansukhKhandhar/4309n31p/1/ -->
  <!-- <div class="input-group my-group pull-right" style="height:32px; width:250px;margin-top:10px;margin-bottom: 10px;"> -->

  <div class="input-group my-group pull-right" style="height:32px; width:250px;margin-top:10px;margin-bottom: 10px;">
    <!-- class form-control and style is added to select to avoid only showing button first on refresh -->
    <!-- note: binding is not used since it needs array to check items -->
    <!-- <select id="selectemployeeid" [(ngModel)]="findid" class="form-control" style="height:32px;width:205px;border-color: #aaa;" data-live-search="true"
              data-size="20" title="Find employee ..."> -->
    <!--2022 <option v-for="item in lstEmpID" :value="item.EmpID">{{ item.EmployeeID }}</option> -->
    <!-- <option value="0" selected></option> -->
    <!-- <option selected value="144">Saira</option>
              <option value="145">Luna</option>
              <option value="146">Tanu</option>
              <option value="148">Wasim</option>
            </select> -->

    <select id="selectemployeeid" [(ngModel)]="findid" class="form-control"
      style="height:32px;width:405px;border-color: #aaa;" data-live-search="true" data-size="20"
      title="Find employee ...">
      <!-- <option *ngFor="let item of cmbEmp" [value]="item.EmpID">{{item.Firstname}}</option> -->
      <option *ngFor="let item of cmbProject" [value]="item.ProjectID">{{ item.ProjectNo }} : {{item.ProjectName}}
      </option>
    </select>
    <span class="input-group-btn">
      <!-- <button (click)="findbyprojectid()" class="btn btn-default" style="height:32px;padding-top:4px;border-color: #aaa;">GO</button> -->
      <a routerLink="/Projectdetail/{{findid}}" (click)="refreshAllChildTables()" class="btn btn-default"
        style="height:32px;padding-top:4px;border-color: #aaa;">GO</a>

    </span>
  </div>
</div>
<!-- End Header row -->



<!-- Main div below heading h1 -->
<div class="container" style="background-color: #f1f3f4;border:1px solid #337ab7; padding: 5px; margin: 0px;width:100%">





  <!-- DETAIL CONTAINER -->
  <!-- ***************************************************** -->
  <div id="details" style="margin-top:0px;border:1px solid #afafaf;">



    <div class="row"
      style="margin-top:0px;margin-left:0px;margin-right:0px;padding:14px;padding-left:0px;padding-bottom:0px;min-height: 250px;  border-radius: 2px;">


      <!-- <div class="col-sm-2" style="margin-right:0px;">
          <img  class="pull-left" src="/assets/images/{{employeeid}}.jpg" style="width:170px;border:1px solid #b6b6b6;" alt />
        </div> -->

      <div class="col-sm-4" style="margin-right:0px;margin-top: 4px;">
        <img class="pull-left" src="/assets/images/project/{{projectno}}.jpg"
          onerror="this.src='/assets/images/project/not_found.JPG';" style="width:350px;border:1px solid #b6b6b6;"
          alt />
      </div>

      <div class="col-sm-4" style="padding-left:0px; padding-right: 0px;">
        <dl class="dl-horizontal" style="margin-bottom:0px;margin-top: 12px;">
          
            <!-- https://stackoverflow.com/questions/6584235/django-want-to-display-an-empty-field-as-blank-rather-displaying-none -->
            <!-- {% if not emp.EmployeeID == None %}
                        {{emp.EmployeeID}}
                        {%endif%}-->

          <dt >Project ID</dt>
          <dd id="ddProjectId" >{{project.ProjectID}}</dd>                   
          <dt>Project no.</dt>
          <dd id="ddProjectNo">{{project.ProjectNo}}</dd>
          <dt>Project name</dt>
          <dd id="ddProjectName" style="height: auto;">{{project.ProjectName}}</dd>
          <dt>Project role</dt>
          <dd id="ddProjectRole">{{project.disProjectRole}}</dd>
          <dt>Award year</dt>
          <dd id="ddAwardYear">{{project.AwardYear}}</dd>
          <dt>Primary project type</dt>
          <dd id="ddPrimaryProjectType">{{project.disPrimaryProjectType}}</dd>
          <dt>Secondary pro. type</dt>
          <dd id="ddSecondaryProjectType">{{project.SecondaryProjectType}}</dd>

        </dl>
      </div>


      <div class="col-sm-4">
        <dl class="dl-horizontal" style=" margin-top:12px; margin-bottom:0px;padding-left: 0px;padding-right: 0px;">
      
          <dt>Proposal no.</dt>
          <dd id="ddProposalID">{{project.disProposalID}}</dd>
          <dt>Company name</dt>
          <dd id="ddComID">{{project.disComID}}</dd>    
          <dt>Owner category</dt>
          <dd id="ddOwnerCategory">{{project.disOwnerCategory}}</dd>
          <dt>Owner</dt>
          <dd id="ddOwner" style="height: auto;">{{project.disOwner}}</dd>
          <dt>Client</dt>
          <dd id="ddClient" style="height: auto;">{{project.disClient}}</dd>
          <dt>Project manager</dt>
          <dd id="ddProjectManager">{{project.disProjectManager}}</dd>
          <dt>Project agreement No.</dt>
          <dd id="ddProjectAgreementNo" style="height: auto;">{{project.ProjectAgreementNo}}</dd>
          <dt>Project status</dt>
          <dd id="ddProjectStatus">{{project.disProjectStatus}}</dd>
          <!-- <dt>Created at</dt>
          <dd id="ddcreatedat">{{project.created_at}}</dd>
          <dt>Updated at</dt>
          <dd id="ddupdatedat">{{project.updated_at}}</dd> -->
          <!-- <dt>ImageData</dt>
            <dd id="ddImageData">{{emp.ImageData}}</dd> -->
        </dl>
      </div>

      
      

    </div><!--  end detail row -->

    <!--EDIT AND DELETE BUTTONS -->
    <div>
      <div style="width:100%;padding-bottom: 10px;text-align: right;">

        <a (click)="showProMainChildModalAdd()" type="button" class="btn btn-outline-dark btn-sm "
          style="margin-left:0px;color:#006fae; border-color: #959595;width:80px;"> <span aria-hidden="true"
            class="glyphicon glyphicon-plus" style="color:#006fae;margin-right: 3px;"> </span>
          Add</a>
        <a (click)="showProMainChildModal()" id="proDetailEditBtn" type="button" style="width:80px;margin-left:6px;"
          class="btn btn-primary btn-sm ">
          Edit</a>
        <a (click)="callProMainChildModalDelete()" type="button" class="btn btn-danger btn-sm"
          style="margin-left:6px;margin-right:10px;width:80px"> Delete</a>

      </div>
    </div>


  </div><!--  end detail container-->


<!-- <button (click)="test2()">test</button> -->

  <!-- TAB CONTAINER -->
  <!-- Note: First tab will be active and data will always change with employee change.
    Data on rest of the tabs will only change on tab click -->
  <!-- ***************************************************** -->
  <div style="margin-top:20px; ">
    <ul id="navtabs" class="nav nav-tabs">
      <!-- <li class="active">
              <a id="empprojectlinktab" data-toggle="tab" href="#empprojecttab" style="border-color: #b2b2b2;padding-top:6px;padding-bottom: 6px;">Employee Projects</a>
            </li> -->
      <li class="active">
        <a id="proteamlinktab" data-toggle="tab" href="#proteamtab" (click)="proteamtabclicked()" 
          style="border-color: #b2b2b2;border-bottom-color: #e2e2e2;padding-top:6px;padding-bottom: 6px;">Project
          Team</a>
      </li>
      <li>
        <a id="prodaclinktab" data-toggle="tab" href="#prodactab"  (click)="prodactabclicked()"
          style="border-color: #a4a4a4;border-bottom-color: #e2e2e2;padding-top:6px;padding-bottom: 6px;">Dates and
          Costs</a>
      </li>
      <li>
        <a id="proprofilecodelinktab" data-toggle="tab" href="#proprofilecodetab"  (click)="proprofilecodetabclicked()"
          style="border-color: #a4a4a4;border-bottom-color: #e2e2e2;padding-top:6px;padding-bottom: 6px;">Profile Code SF330
          </a>
      </li>
      <li>
        <a id="prodescriptionlinktab" data-toggle="tab" href="#prodescriptiontab"  (click)="prodescriptiontabclicked()"
          style="border-color: #a4a4a4;border-bottom-color: #e2e2e2;padding-top:6px;padding-bottom: 6px;">Project Description
          </a>
      </li>
      <!-- <li >
        <a id="degreelinktab" data-toggle="tab" href="#degreetab"
          style="border-color: #b2b2b2;border-bottom-color: #e2e2e2;padding-top:6px;padding-bottom: 6px;">Degree</a>
      </li> -->
    </ul>


    <!-- TAB CONTENT -->
    <!-- ***************************************************** -->
    <div class="tab-content"
      style="border:1px solid #aeaeae; border: 1px solid #9b9b9b; border-top-color:#d7d7d7;padding:4px;padding-top:0px; min-height: 285px !important;">
      <!-- <div id="empprojecttab" class="tab-pane fade in active "> -->
      <!-- <empprojecttabcontent /> -->
      <!-- </div> -->
      <div id="proteamtab" class="tab-pane fade in active" style="border-color:#f2f2f2">
        <app-pro-team [childprojectid]="id"></app-pro-team>
        <!-- <app-pro-team [childempid]="id"></app-pro-team> -->
      </div>
      <div id="prodactab" class="tab-pane fade in ">
        <app-pro-dac [childprojectid]="id" *ngIf="loadprodac"></app-pro-dac>
      </div>
      <div id="proprofilecodetab" class="tab-pane fade in ">
        <app-pro-profilecode [childprojectid]="id" *ngIf="loadproprofilecode"></app-pro-profilecode>
      </div>

      <div id="prodescriptiontab" class="tab-pane fade in ">
        <app-pro-description [childprojectid]="id" *ngIf="loadprodescription"></app-pro-description>
      </div>
      <!-- <div id="degreetab" class="tab-pane fade in " style="border-color:#f2f2f2">
        <app-emp-degree [childempid]="id"></app-emp-degree>
      </div> -->
      <!-- <empeditmodal ref="editmodalcomponent" v-bind:empid="empid" /> -->
      <!-- <globalunauthorisedmsg /> -->
    </div> <!-- end Full tab-content class div -->
  </div><!-- end tab container -->


  <!-- </div> end main container div -->

  <!-- get empid from emp.id put it in hidden p to pass to jquery -->
  <!-- <p id="hiddenempid" style="display: none">{{emp.id}}</p> -->


</div>